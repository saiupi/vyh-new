<ion-content class="background_color wrapper">
  <ion-grid class="index_forpay green-box">
    <div class="text-right p_book">
      <ion-text class="customize pr-3 cursor-pointer" [routerLink]="['/myaccount/bookings']">
        Back To Bookings
      </ion-text>
    </div>
    <ion-row class="row preview_top">
      <ion-col class="col-12 col-md-8 container-fluid">
        <div class="row">
          <div class="col-8 big_ht">
            <img src="{{activityCoverImg}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
          <div class="col-4 big_ht">
            <img src="{{activityCoverImg2}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
        </div>
      </ion-col>
      <ion-col class="col-12 col-md-4 container-fluid">
        <div class="row">
          <div class="col-6 small_ht">
            <img src="{{sideImg0}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
          <div class="col-6 small_ht">
            <img src="{{sideImg1}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
          <div class="col-6 small_ht">
            <img src="{{sideImg2}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
          <div class="col-6 small_ht">
            <img src="{{sideImg3}}" onerror="this.src='../../../../assets/images/Group 67292.png'"
              class="h-100 w-100 img-fluid image_adjust" />
          </div>
        </div>
      </ion-col>
      <ion-col class="col-12 p-0">
        <ion-row class="mt-3">
          <ion-col class="col-sm-3">
            <br />
            <ion-text *ngIf="totalDays" class="trip_name text-white">Your Trip</ion-text><br />
            <ion-text class="fnt_sml text-white" *ngIf="totalDays">{{ totalDays
              }}&nbsp;{{totalDays>1?'Days':'Day'}}&nbsp;,&nbsp;{{
              selectedBooking?.selectedTravellers.adults.length+selectedBooking?.selectedTravellers
              .children.length+selectedBooking?.selectedTravellers.infants.length
              }}&nbsp;{{
              selectedBooking?.selectedTravellers.adults?.length+selectedBooking?.selectedTravellers
              .children?.length+selectedBooking?.selectedTravellers.infants?.length>1
              ?'Persons':'Person'}}</ion-text><br />
            <br />
            <table class="bookDetails mb-5" *ngIf="paymentDetails?.pid?.length>0">
              <tr class="bookDetails">
                <td class="bookDetails bookDetails_head">Booking Status: </td>
                <td *ngIf="customTransactions?.bookingStatus == 'completedSuccess'" class="successColor">
                  Success
                </td>
                <td *ngIf="customTransactions?.bookingStatus == 'partialSuccess'" class="partialSuccess">
                  Partial&nbsp;Success
                </td>
                <td *ngIf="customTransactions?.bookingStatus == 'completedFailed'" class="errorColor">
                  Failed
                </td>
                <td *ngIf="customTransactions?.bookingStatus == 'paymentPending'" class="errorColor">
                  Payment&nbsp;Failed</td>
                <td *ngIf="customTransactions?.bookingStatus == 'paymentSuccess'" class="errorColor">
                  Payment&nbsp;Done&nbsp;Successfully</td>
              </tr>
              <tr class="bookDetails bookDetails_head">
                <td class="bookDetails">Transaction Id: </td>
                <td>{{paymentDetails?.txid}}</td>
              </tr>
              <tr class="bookDetails bookDetails_head">
                <td class="bookDetails">Booking Reference Id:</td>
                <td>{{paymentDetails?.bid}}</td>
              </tr>
            </table>
            <!-- <div *ngFor="let dayPlan of selectedBooking?.dayPlanner; let q = index">
              <div class="inline_activity" *ngFor="let activityDetails of dayPlan.activityDetails">
                <div class="inline_activity" *ngFor="let preferences of activityDetails.activitiesPreferences">
                  <ion-text class="text-dark">{{ preferences }}</ion-text>
                </div>
              </div>
            </div> -->
          </ion-col>
          <ion-col class="position-relative col-sm-6"></ion-col>
          <ion-col class="position-relative col-sm-3 price_height">
            <div class="d-inline-block ml-auto">
              <table class="position-relative" style="width: 300px">
                <br />
                <tr *ngIf="(selectedBooking|flightsPricePipe:'totalFare')!=0">
                  <td class="price_for text-white">Flights</td>
                  <br />
                  <td class="price">
                    {{ selectedBooking|flightsPricePipe:'totalFare' | currency:"₹ " : false
                    :
                    '2.0-0'}}
                  </td>
                  <div (click)="toggleFlightPrice()">
                    <ion-icon name="{{ flightButtonName }}" size="small"
                      class="button_set_drop main_chiv_symbol cursor-pointer"></ion-icon>
                  </div>
                </tr>
                <tr *ngIf="showFlightPrice">
                  <td class="price_for_tax text-white">Fare</td>
                  <br />
                  <td class="price_tax">
                    {{ selectedBooking| flightsPricePipe:'equiFare' | currency:"₹ " : false
                    : '2.0-0'
                    }}
                  </td>
                </tr>
                <tr *ngIf="showFlightPrice">
                  <td class="price_for_tax text-white">Tax</td>
                  <br />
                  <td class="price_tax">
                    {{ selectedBooking|flightsPricePipe:'totalTax' | currency:"₹ " : false :
                    '2.0-0'}}
                  </td>
                </tr>
                <tr *ngIf="(selectedBooking?.dayPlanner|hotelsPricePipe)!=0">
                  <td class="price_for text-white">Hotels</td>
                  <br />
                  <td class="price">
                    {{ selectedBooking?.dayPlanner| hotelsPricePipe | currency:"₹ " : false : '2.0-0' }}
                  </td>
                </tr>
                <tr *ngIf="(selectedBooking?.dayPlanner|activityPricePipe)!=0">
                  <td class="price_for text-white">Activities</td>
                  <br />
                  <td class="price">
                    {{ selectedBooking?.dayPlanner| activityPricePipe | currency:"₹ " : false : '2.0-0'
                    }}&nbsp;
                  </td>
                </tr>
                <hr *ngIf="
                (selectedBooking|flightsPricePipe:'totalFare')>0||
                (selectedBooking?.dayPlanner|hotelsPricePipe)>0 ||
                (selectedBooking?.dayPlanner|activityPricePipe)>0 " class="line_price" />
                <tr *ngIf="
                (selectedBooking|flightsPricePipe:'totalFare')>0||
                (selectedBooking?.dayPlanner|hotelsPricePipe)>0 ||
                (selectedBooking?.dayPlanner|activityPricePipe)>0 ">
                  <td class="price_for text-white">Total Paid</td>
                  &nbsp;&nbsp;&nbsp;
                  <td class="price">{{ selectedBooking| totalPricePipe | currency:"₹ " :
                    false : '2.0-0' }}
                  </td>
                </tr>
                <hr *ngIf="
                (selectedBooking|flightsPricePipe:'totalFare')>0||
                (selectedBooking?.dayPlanner|hotelsPricePipe)>0 ||
                (selectedBooking?.dayPlanner|activityPricePipe)>0 " class="line_price" />
              </table>
            </div>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>

    <div class="no-gutters">
      <ion-text *ngIf="selectedBooking?.startDate?.length>0" class="itenary_header">
        Trip Dates
      </ion-text>
      <ion-row>
        <ion-col class="col-1 col-lg-1 position-relative p-0">
        </ion-col>
        <ion-col class="col-11 col-lg-11 p-0">
          <ion-text *ngIf="selectedBooking?.startDate?.length>0" class="position-relative travel_dates mr-3">
            {{selectedBooking?.startDate| date: 'EEE,dd LLL
            yyyy'}}&nbsp;-&nbsp;{{selectedBooking?.endDate| date:
            'EEE,dd
            LLL yyyy'}}
          </ion-text>
        </ion-col>
      </ion-row>
    </div>
    <div class="no-gutters" *ngIf="selectedBooking?.selectedTravellers.adults.length > 0  || selectedBooking?.selectedTravellers.children.length >0 ||
       selectedBooking?.selectedTravellers.infants.length>0">
      <ion-text class="itenary_header">
        Passenger Details
      </ion-text>
      <ion-row>
        <ion-col class="col-1 col-lg-1 position-relative p-0">
        </ion-col>
        <ion-col class="col-11 col-lg-11 p-0">
          <ion-text class="position-relative passenger_name mr-3"
            *ngFor="let name of selectedBooking?.selectedTravellers.adults">
            <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>{{name.firstName}}
          </ion-text>
          <ion-text class="position-relative passenger_name mr-3"
            *ngFor="let name of selectedBooking?.selectedTravellers.children">
            <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>{{name.firstName}}
          </ion-text>
          <ion-text class="position-relative passenger_name mr-3"
            *ngFor="let name of selectedBooking?.selectedTravellers.infants">
            <ion-icon name="person-circle-outline" class="icon_profile"></ion-icon>{{name.firstName}}
          </ion-text>
        </ion-col>
      </ion-row>
    </div>
    <ion-row>
      <ion-col class="col-1 col-lg-1 position-relative p-0"> </ion-col>
      <ion-col class="col-11 col-lg-11 p-0" *ngIf="
      flightCount>0||
      hotelCount>0 ||
      activityCount > 0
        ">
        <ion-text class="d-block included">Included</ion-text>
        <ion-row>
          <ion-col size="12" size-sm="auto" class="pr-3" *ngIf="flightCount>0">
            <ion-row>
              <ion-col size="auto"><img src="../../../assets/images/Group 53105.png" class="image_adjust icon_size" />
              </ion-col>
              <ion-col class="pl-2">
                <div class="row h-100 no-gutters">
                  <div class="my-auto d-inline">
                    <ion-text class="d-block included_text_header">Transportation</ion-text>
                    <ion-text class="text-dark font-weight-bold">
                      {{ flightCount+selectedBooking?.returnPlan?.length}}
                      {{flightCount+selectedBooking?.returnPlan?.length>1?'Flights':'Flight'}} Selected</ion-text>
                  </div>
                </div>
              </ion-col>
            </ion-row>
          </ion-col>

          <ion-col size="12" size-sm="auto" class="pr-3" *ngIf="hotelCount> 0">
            <ion-row>
              <ion-col size="auto"><img src="../../../assets/images/Group 53106.png" class="image_adjust icon_size" />
              </ion-col>
              <ion-col class="pl-2">
                <div class="row h-100 no-gutters">
                  <div class="my-auto d-inline">
                    <ion-text class="d-block included_text_header">Stays</ion-text>
                    <ion-text class="text-dark font-weight-bold">
                      {{ hotelCount}} {{hotelCount>1?'Hotels':'Hotel'}} Selected</ion-text>
                  </div>
                </div>
              </ion-col>
            </ion-row>
          </ion-col>

          <ion-col size="12" size-sm="auto" class="pr-3" *ngIf="activityCount> 0">
            <ion-row>
              <ion-col size="auto"><img src="../../../assets/images/Group 53107.png" class="image_adjust icon_size" />
              </ion-col>
              <ion-col class="pl-2">
                <div class="row h-100 no-gutters">
                  <div class="my-auto d-inline">
                    <ion-text class="d-block included_text_header">Activities</ion-text>
                    <ion-text class="text-dark font-weight-bold">
                      {{ activityCount}} {{activityCount>1?'Activities':'Activity'}} Selected</ion-text>
                  </div>
                </div>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-text *ngIf="
    flightCount > 0 ||
    hotelCount >0 || activityCount >0
      " class="itenary_header">Your Itinerary</ion-text>
    <ion-row class="pt-4 position-relative">
      <ion-col class="col-1 col-lg-1 position-relative p-0"> </ion-col>
      <ion-col class="col-11 col-lg-11 p-0 text-dark vert_line_div">
        <ion-grid id="one-record" class="mb-5" *ngFor="let i of selectedBooking?.dayPlanner; let p = index">
          <ion-row>
            <ion-col size="12" class="pl_5  position-relative">
              <div class="flt_icon">{{ i.day + 1 }}</div>
              <ion-text class="day">Destination&nbsp;{{ i.day + 1 }}</ion-text>
              <ion-row>
                <ion-col size="12" size-sm="6" size-lg="4" class=" city_card_line text_pad">
                  <ion-text class="d-block text_header">{{
                    i.cityName
                    }}
                    &nbsp;<span class="dates_size">{{i.date.start|date:'MMMM d,
                      y'}}&nbsp;-&nbsp;{{i.date.end|date:'MMMM d,
                      y'}}</span>
                  </ion-text>
                </ion-col>
              </ion-row>
            </ion-col>
            <ion-col *ngIf="i.flightDetails?.tripDetails?.itineraryInfo?.reservationItem" size="12"
              class="pl_5 mt-5 mb-5 flight_card_line position-relative">
              <div class="flight_icon_flight">
                <img src="../../../assets/images/Artwork 6.svg" class="" />
              </div>
              <ion-row>
                <ion-col size="12" class="background_color pl-3">
                  <ion-card class="bg-white text-dark flt_card lg_dsplay">
                    <div class="no-gutters connecting_flights">
                      <div class="pb-2 position-relative">
                        <div class="mt-2">
                          <span class="flight_details_ticket" *ngIf="i.flightDetails.ticketRefNumber?.length>0">
                            Ticket reference number:{{i.flightDetails.ticketRefNumber}}</span>&nbsp;
                          <span *ngIf="getFlightStatus(i?.flightDetails.uuid)?.length>0">
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'Cancelled'"
                              class="error_status">Cancelled</span>
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'refundInitiated'"
                              class="partialSuccess">Refund Initiated</span>
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'amountRefunded'"
                              class="success_status">Amount Refunded</span>
                          </span>
                          <span *ngIf="getFlightStatus(i?.flightDetails.uuid) == null">
                            <span *ngIf="i?.flightDetails.bookingStatus === 'completedSuccess'"
                              class="success_status">Confirmed</span>
                            <span *ngIf="i?.flightDetails.bookingStatus === 'completedFailed'"
                              class="error_status">Failed</span>
                          </span>
                          <span class="flight_details" (click)="FlightTickDetails()">Passengers Details</span>
                          <span class="flight_price">
                            {{i.flightDetails.fareDetails.totalFare.amount | currency:"₹ " : false : '2.0-0' }}</span>
                        </div>
                        <ion-grid class="container-fluid pt-2" *ngFor="
                            let f of i.flightDetails?.tripDetails?.itineraryInfo?.reservationItem;
                            let flightsegment_index = index
                          ">
                          <ion-row class="row">
                            <ion-col class="d-flex col-6 mb-1">
                              <div class="d-inline">
                                <img src="{{ f.airlineInfo.logoURL }}" class="img-fluid" />
                                <ion-text class="text-dark pl-2">{{
                                  f.airlineInfo.name
                                  }}
                                </ion-text>
                              </div>
                            </ion-col>
                          </ion-row>
                          <ion-row>
                            <ion-col class="col-md-4 col-6 mb_sm">
                              <ion-text class="d-block frm_to">{{ f.departureAirportLocationCode }}
                                {{ f.airlineInfo.departureCity }}
                                {{
                                f.departureDateTime | date: 'HH:mm'
                                }}</ion-text>
                              <ion-text class="d-block time">{{
                                f.departureDateTime | date: 'EEE,dd LLL yyyy'
                                }}</ion-text>
                            </ion-col>
                            <ion-col class="col-md-3 col-6">
                              <ion-text class="d-block text-center frm_to">
                                <ion-icon name="timer-outline"></ion-icon>
                              </ion-text>
                              <ion-text class="d-block text-center time">{{
                                f.journeyDuration | toNumber | durationPipe
                                }}</ion-text>
                            </ion-col>
                            <ion-col class="col-md-5 col-6 mb_sm">
                              <ion-text class="d-block frm_to">{{ f.arrivalAirportLocationCode }}
                                {{ f.airlineInfo.arrivalCity }}
                                {{
                                f.arrivalDateTime | date: 'HH:mm'
                                }}</ion-text>
                              <ion-text class="d-block time">{{
                                f.arrivalDateTime | date: 'EEE,dd LLL yyyy'
                                }}</ion-text>
                            </ion-col>
                          </ion-row>
                          <br />
                          <span class="flight_bookdetails"><span *ngIf="f.flightNumber?.length>0">Flight number:
                              {{f.flightNumber}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                              *ngIf="f.airlinePNR?.length>0">Airline PNR:
                              {{f.airlinePNR}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span *ngIf="f.baggage?.length>0">Baggage:
                              {{f.baggage}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                              *ngIf="f.cabinClassText?.length>0">Cabin class text: {{f.cabinClassText}}</span></span>
                          <div class="text-center short_layover_div position-relative" *ngIf="
                              flightsegment_index !=
                              i.flightDetails?.flightSegments?.length - 1
                            ">
                            <ion-text class="text-dark short_layover_text">Layover
                              {{
                              diff(
                              f.arrivalDateTime,
                              i.flightDetails.flightSegments[
                              flightsegment_index + 1
                              ]?.departureDateTime
                              )
                              }}</ion-text>
                          </div>
                        </ion-grid>
                        <br />
                        <div *ngIf="passengerShow">
                          <hr class="passenger_line">
                          <div class="passenger_details">Passengers</div>
                          <table class="Table_Style">
                            <tr class="passenger_header">
                              <th><b>Name</b></th>
                              <th><b>Gender</b></th>
                              <th><b>Passport Number</b></th>
                              <th><b>Email</b></th>
                              <th><b>E-TicketNumber</b></th>
                            </tr>
                            <tr
                              *ngFor="let passenger of i.flightDetails?.tripDetails?.itineraryInfo.customerInfo;let o=index">
                              <td *ngIf="passenger.passengerFirstName?.length == 0">-</td>
                              <td *ngIf="passenger.passengerFirstName?.length>0">{{passenger.passengerFirstName}}</td>

                              <td *ngIf="passenger.gender?.length == 0">-</td>
                              <td *ngIf="passenger.gender?.length>0">{{passenger.gender}}</td>

                              <td *ngIf="passenger.passportNumber?.length == 0">-</td>
                              <td *ngIf="passenger.passportNumber?.length>0">{{passenger.passportNumber}}</td>

                              <td *ngIf="passenger.emailAddress?.length == 0">-</td>
                              <td *ngIf="passenger.emailAddress?.length>0">{{passenger.emailAddress}}</td>

                              <td *ngIf="passenger.eTicketNumber?.length == 0">-</td>
                              <td *ngIf="passenger.eTicketNumber?.length>0">{{passenger.eTicketNumber}}</td>

                            </tr>
                          </table>
                        </div>

                      </div>
                    </div>
                  </ion-card>
                  <ion-card class="bg-white text-dark mb-2 ml-2 mr-2 flt_card sm_dsplay">
                    <div class="no-gutters connecting_flights">
                      <div class="pb-2 position-relative">
                        <div class="row">
                          <div class="col-12">
                            <span class="flight_details_ticket right_float mr-3"
                              *ngIf="i.flightDetails.ticketRefNumber?.length>0">
                              Ticket:{{i.flightDetails.ticketRefNumber}}</span>
                          </div>&nbsp;
                          <div class="col-12" *ngIf="getFlightStatus(i?.flightDetails.uuid)?.length>0">
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'Cancelled'"
                              class="error_status right_float flot_top mr-3">Cancelled</span>
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'refundInitiated'"
                              class="partialSuccess">Refund Initiated</span>
                            <span *ngIf="getFlightStatus(i?.flightDetails.uuid) === 'amountRefunded'"
                              class="success_status">Amount Refunded</span>
                          </div>
                          <div class="col-12" *ngIf="getFlightStatus(i?.flightDetails.uuid) == null">
                            <span *ngIf="i?.flightDetails.bookingStatus === 'completedSuccess'"
                              class="success_status right_float mr-3">Confirmed</span>
                            <span *ngIf="i?.flightDetails.bookingStatus === 'completedFailed'"
                              class="error_status right_float mr-3">Failed</span>
                          </div>
                        </div>
                        <span class="flight_details" (click)="FlightTickDetails()">Passenger</span>
                        <span class="flight_price">{{i.flightDetails.fareDetails.totalFare.amount | currency:"₹ " :
                          false : '2.0-0' }}
                        </span>
                        <br />
                        <br />
                        <ion-grid class="container-fluid" *ngFor="
                            let f of  i.flightDetails?.tripDetails?.itineraryInfo?.reservationItem;
                            let flightsegment_index = index
                          ">
                          <ion-row class="row p-0">
                            <ion-col class="d-flex col-12 mb-1">
                              <div class="d-inline aero_name">
                                <img src="{{ f.airlineInfo.logoURL }}" class="img-fluid" />
                                <ion-text class="text-dark pl-2">{{
                                  f.airlineInfo.name
                                  }}
                                </ion-text>
                              </div>
                            </ion-col>
                            <!-- <ion-col class="d-flex col-4 mb-1">
                              <a class="flight_pass" (click)="FlightTickDetails()">Passenger<span class="hide_details">Details</span></a>
                            </ion-col> -->
                            <ion-col size="6" class="pl-2">
                              <ion-text class="d-block frm_to">{{ f.departureAirportLocationCode }}
                                {{ f.airlineInfo.departureCity }}
                                {{
                                f.departureDateTime | date: 'HH:mm'
                                }}</ion-text>
                            </ion-col>
                            <ion-col size="6" class="text-right pr-2">
                              <ion-text class="d-block frm_to">{{ f.arrivalAirportLocationCode }}
                                {{ f.airlineInfo.arrivalCity }}
                                {{
                                f.arrivalDateTime | date: 'HH:mm'
                                }}</ion-text>
                            </ion-col>
                            <ion-col class="d-flex pr-2 pl-2 pt-0 pb-0" size="12">
                              <div>
                                <ion-text class="d-inine sm_time">{{
                                  f.departureDateTime | date: 'EEE,dd LLL yyyy'
                                  }}</ion-text>
                              </div>
                              <div class="flex-grow-1 text-center position-relative z_0">
                                <ion-text class="d-inline sm_time rt_lne pr-1 z_2 bg-white">
                                  <ion-icon name="timer-outline"></ion-icon>{{
                                  f.journeyDuration | toNumber | durationPipe
                                  }}
                                </ion-text>
                              </div>
                              <div>
                                <ion-text class="d-block sm_time text-right">{{
                                  f.arrivalDateTime | date: 'EEE,dd LLL yyyy'
                                  }}</ion-text>
                              </div>
                            </ion-col>
                            <div class="col-12 text-center short_layover_div position-relative" *ngIf="
                                flightsegment_index !=
                                i.flightDetails?.tripDetails?.itineraryInfo?.reservationItem.length- 1
                              ">
                              <ion-text class="text-dark short_layover_text">Layover
                                {{
                                diff(
                                f.arrivalDateTime,
                                i.flightDetails.flightSegments[
                                flightsegment_index + 1
                                ]?.departureDateTime
                                )
                                }}</ion-text>
                            </div>
                          </ion-row>
                          <br />
                          <span class="flight_bookdetails"><span *ngIf="f.flightNumber?.length>0">Flight number:
                              {{f.flightNumber}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                              *ngIf="f.airlinePNR?.length>0">Airline PNR:
                              {{f.airlinePNR}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span *ngIf="f.baggage?.length>0">Baggage:
                              {{f.baggage}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                              *ngIf="f.cabinClassText?.length>0">Cabin class text: {{f.cabinClassText}}</span></span>
                        </ion-grid>
                        <br />
                        <div *ngIf="passengerShow">
                          <hr class="passenger_line">
                          <div class="passenger_details">Passengers</div>
                          <table class="Table_Style">
                            <tr class="passenger_header">
                              <th><b>Name</b></th>
                              <th><b>Passport</b></th>
                              <th><b>E-Ticket</b></th>
                            </tr>
                            <tr
                              *ngFor="let passenger of i.flightDetails?.tripDetails?.itineraryInfo.customerInfo;let o=index">
                              <td *ngIf="passenger.passengerFirstName?.length == 0">-</td>
                              <td *ngIf="passenger.passengerFirstName?.length>0">{{passenger.passengerFirstName}}</td>

                              <td *ngIf="passenger.passportNumber?.length == 0">-</td>
                              <td *ngIf="passenger.passportNumber?.length>0">{{passenger.passportNumber}}</td>

                              <td *ngIf="passenger.eTicketNumber?.length == 0">-</td>
                              <td *ngIf="passenger.eTicketNumber?.length>0">{{passenger.eTicketNumber}}</td>

                            </tr>
                          </table>
                        </div>
                      </div>
                    </div>
                  </ion-card>
                </ion-col>
              </ion-row>
            </ion-col>
            <!-- to do -->
            <ion-col size="12" class="position-relative mt-5" *ngIf="i.hotelDetails?.hotelContent?.hotelId">
              <div class="htl_icon">
                <img src="../../../assets/images/htl_icon.svg" />
              </div>
              <ion-row class="pl_5 fl_card_line position-relative mt-5">
                <ion-col size="12" size-sm="4" class="itenerary_img background_color img_pad">
                  <img src="{{ i.hotelDetails?.hotelContent?.images[0]?.url }}" alt="image_not_found"
                    onerror="this.src='assets/images/hotel.png'" class="img_dimensions" />
                </ion-col>
                <ion-col size="12" size-sm="6" size-lg="4" class="text_pad">
                  <ion-text class="d-block text_header">
                    <span class="dates_size">{{i.date.start|date:'MMMM d, y'}}&nbsp;-&nbsp;{{i.date.end|date:'MMMM d,
                      y'}}</span><br />
                    {{
                    i.hotelDetails?.hotelContent?.name
                    }}&nbsp;<span *ngIf="getHotelStatus(i?.hotelDetails.uuid)?.length>0">
                      <span *ngIf="getHotelStatus(i?.hotelDetails.uuid) === 'Cancelled'"
                        class="error_status">Cancelled</span>
                      <span *ngIf="getHotelStatus(i?.hotelDetails.uuid) === 'refundInitiated'"
                        class="partialSuccess">Refund Initiated</span>
                      <span *ngIf="getHotelStatus(i?.hotelDetails.uuid) === 'amountRefunded'"
                        class="success_status">Amount Refunded</span>
                    </span>
                    <span *ngIf="getHotelStatus(i?.hotelDetails.uuid) == null">
                      <span *ngIf="i.hotelDetails?.bookingStatus === 'completedSuccess'"
                        class="success_status">Confirmed</span>
                      <span *ngIf="i.hotelDetails?.bookingStatus === 'completedFailed'"
                        class="error_status">Failed</span>
                    </span>
                    <div>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating == 1">
                        <li class="mr-1 rating-num">{{i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}</li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                      </span>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating > 1 &&
                          i.hotelDetails?.hotelContent?.hotelRating< 2">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star-half-outline" class="star-color"></ion-icon>
                        </li>
                      </span>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating == 2">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                      </span>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating > 2 &&
                          i.hotelDetails?.hotelContent?.hotelRating< 3">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star-half-outline" class="star-color"></ion-icon>
                        </li>

                      </span>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating == 3">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                      </span>
                      <span class=" rating-list" *ngIf="i.hotelDetails?.hotelContent?.hotelRating > 3 &&
                          i.hotelDetails?.hotelContent?.hotelRating < 4">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star-half-outline" class="star-color"></ion-icon>
                        </li>

                      </span>
                      <span class=" rating-list" *ngIf="i.hotelDetails?.hotelContent?.hotelRating == 4">
                        <li class="mr-1 rating-num">{{i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}</li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>

                      </span>
                      <span class=" rating-list" *ngIf=" i.hotelDetails?.hotelContent?.hotelRating> 4 &&
                          i.hotelDetails?.hotelContent?.hotelRating < 5">
                        <li class="mr-1 rating-num">{{ i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star-half-outline" class="star-color"></ion-icon>
                        </li>
                      </span>
                      <span class=" rating-list" *ngIf="i.hotelDetails?.hotelContent?.hotelRating == 5 ">
                        <li class="mr-1 rating-num">{{i.hotelDetails?.hotelContent?.hotelRating | number: '1.1-1'}}</li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                        <li>
                          <ion-icon name="star" class="star-color"></ion-icon>
                        </li>
                      </span>
                    </div>
                  </ion-text>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails.selectedRoom.netPrice">Price:
                    <span class="text_normal" *ngIf="i.hotelDetails.selectedRoom.netPrice" class="text_normal">
                      {{ i.hotelDetails.selectedRoom.netPrice | currency:"₹ " : false : '2.0-0' }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails?.selectedRoom?.roomType?.length>0">RoomType:
                    <span class="text_normal" *ngIf="i.hotelDetails?.selectedRoom?.roomType?.length>0"
                      class="text_normal">
                      {{
                      i.hotelDetails?.selectedRoom?.roomType }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails?.selectedRoom?.boardType?.length>0">
                    BoardType:
                    <span class="text_normal" *ngIf="i.hotelDetails?.selectedRoom?.boardType?.length>0"
                      class="text_normal">{{
                      i.hotelDetails?.selectedRoom?.boardType }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails?.selectedRoom?.fareType ?.length>0">FareType:
                    <span class="text_normal" *ngIf="i.hotelDetails?.selectedRoom?.fareType ?.length>0"
                      class="text_normal">{{
                      i.hotelDetails?.selectedRoom?.fareType }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails.bookingDetails?.referenceNum">Reference
                    number:
                    <span class="text_normal" *ngIf="i.hotelDetails.bookingDetails.referenceNum" class="text_normal">
                      {{ i.hotelDetails.bookingDetails.referenceNum }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails.bookingDetails?.clientRefNum">Client
                    reference number:
                    <span class="text_normal" *ngIf="i.hotelDetails.bookingDetails.clientRefNum" class="text_normal">
                      {{ i.hotelDetails.bookingDetails.clientRefNum }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails.bookingDetails?.supplierConfirmationNum">
                    Supplier confirmation number:
                    <span class="text_normal" *ngIf="i.hotelDetails.bookingDetails.supplierConfirmationNum"
                      class="text_normal">
                      {{ i.hotelDetails.bookingDetails.supplierConfirmationNum }}</span>
                  </div>
                  <div class="mt-2 text_normal_head" *ngIf="i.hotelDetails?.hotelContent?.address?.length>0">Address:
                    <span class="text_normal" *ngIf="i.hotelDetails?.hotelContent?.address?.length>0">{{
                      i.hotelDetails?.hotelContent?.address }},{{
                      i.hotelDetails?.hotelContent?.phoneNumbers }}</span>
                  </div>
                </ion-col>
              </ion-row>
            </ion-col>


            <ion-col size="12" class="position-relative mt-5" *ngFor="let k of i.activityDetails; let p = index">
              <div *ngIf="i.activityDetails?.length>0">
                <div class="act_icon">
                  <img src="../../../assets/images/loc_in_circle.svg" />
                </div>
                <ion-row class="pl_5 fl_card_line position-relative mt-5">
                  <ion-col size="12" size-sm="4" class="itenerary_img_active background_color img_pad">
                    <img src="{{k.coverImageUrl}}" class="img_dimensions_active" />
                  </ion-col>
                  <ion-col size="12" size-sm="6" size-lg="4" class="text_pad mt-2">
                    <ion-text class="d-block text_header  ">
                      <span class="dates_size">{{k.activityDate|date:'MMMM d, y'}} at {{k.time}}</span><br />
                      {{k.activityName}}

                      &nbsp;
                      <span *ngIf="getActivityStatus(k.activityId)?.length>0">
                        <span *ngIf="getActivityStatus(k.activityId) === 'Cancelled'"
                          class="error_status">Cancelled</span>
                        <span *ngIf="getActivityStatus(k.activityId) === 'refundInitiated'"
                          class="partialSuccess">Refund Initiated</span>
                        <span *ngIf="getActivityStatus(k.activityId) === 'amountRefunded'" class="success_status">Amount
                          Refunded</span>
                      </span>

                      <span *ngIf="getActivityStatus(k.activityId)?.length==null">
                        <span *ngIf="k?.bookingStatus === 'completedSuccess'" class="success_status">Confirmed</span>
                        <span *ngIf="k?.bookingStatus === 'completedFailed'" class="error_status">Failed</span>
                      </span>
                    </ion-text>
                    <ion-text class="d-block text-left text_normal">
                      <div *ngIf="!k.showMore" class="Show_list">
                        {{this.trimString(k.description,105)}}
                        <a (click)="k.showMore = !k.showMore">Show<span [innerHtml]="k.showMore ? 'less' : 'More'">
                          </span>
                        </a>
                      </div>
                      <div *ngIf="k.showMore" class="Show_list">
                        {{k.description}}
                        <a (click)="k.showMore = !k.showMore">Show <span [innerHtml]="k.showMore ? 'less' : 'More'">
                          </span>
                        </a>
                      </div>
                    </ion-text>
                    <div class="mt-2 text_normal_head" *ngIf="k.grandtotal">
                      Price: <span class="text_normal" *ngIf="k.grandtotal" class="text_normal">{{k.grandtotal |
                        currency:"₹ " : false : '2.0-0' }}</span>
                    </div>

                    <div class="mt-2 text_normal_head" *ngIf="k.orderIdentifier?.length>0">
                      Order ID: <span class="text_normal" *ngIf="k.orderIdentifier?.length>0"
                        class="text_normal">{{k.orderIdentifier}}</span>
                    </div>

                    <div class="mt-2 text_normal_head" *ngIf="k.customerInfo?.requiredFields?.firstName?.length>0">
                      Customer Name: <span class="text_normal"
                        *ngIf="k.customerInfo?.requiredFields?.firstName?.length>0" class="text_normal">
                        {{
                        k.customerInfo?.requiredFields?.firstName}}&nbsp;{{
                        k.customerInfo?.requiredFields?.lastName}}</span>
                    </div>

                    <div class="mt-2 text_normal_head" *ngIf="k.customerInfo?.requiredFields?.email?.length>0">
                      Customer Email: <span class="text_normal" *ngIf="k.customerInfo?.requiredFields?.email?.length>0"
                        class="text_normal">{{
                        k.customerInfo?.requiredFields?.email}}</span>
                    </div>

                    <table class="table_active mt-2">
                      <tr class="th_active">
                        <th>Travellers</th>
                        <th>No of Tickets</th>
                      </tr>
                      <tr class="td_active" *ngFor="let p of k.productsInfo;">
                        <td *ngIf="p.productName?.toString()?.length === 0">-</td>
                        <td *ngIf="p.productName?.toString()?.length > 0">{{p.productName}}</td>
                        <td *ngIf="p.quantity?.toString()?.length === 0">-</td>
                        <td *ngIf="p.quantity?.toString()?.length>0">{{p.quantity}}</td>
                      </tr>
                    </table>
                  </ion-col>
                </ion-row>
              </div>
            </ion-col>
          </ion-row>
        </ion-grid>

        <ion-row *ngIf="returnFlight?.length>0">
          <ion-col size="12" class="pl_5  position-relative" *ngFor="let z of returnFlight;">
            <div class="flt_icon">{{selectedBooking?.dayPlanner?.length + 1}}</div>
            <ion-text class="day_origin">Return</ion-text>
            <ion-row>
              <ion-col size="12" size-sm="6" size-lg="4" class=" city_card_line text_pad pt-2">
                <ion-text class="d-block text_header_origin">{{
                  z.cityName
                  }}&nbsp;<span class="dates_size">{{z.journeyDates.startDate|date:'MMMM d, y'}}</span>
                </ion-text>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
        <div *ngIf="returnFlight?.length>0" size="12" class="pl_5 mt-5 mb-5 return_flight_card_line position-relative">
          <div class="flight_icon_flight">
            <img src="../../../assets/images/Artwork 6.svg" class="" />
          </div>

          <ion-row>
            <ion-col size="12" class="background_color pl-3">
              <ion-card *ngFor="let z of returnFlight;" class="bg-white text-dark flt_card lg_dsplay">
                <div>
                  <div class="pb-2">
                    <div class="mt-2">
                      <span class="flight_details_ticket" *ngIf="z.flightDetails.ticketRefNumber?.length>0">
                        Ticket reference number:{{z.flightDetails.ticketRefNumber}}</span>
                      &nbsp;<span *ngIf="getFlightStatus(z?.flightDetails.uuid)?.length>0">
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'Cancelled'"
                          class="error_status">Cancelled</span>
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'refundInitiated'"
                          class="partialSuccess">Refund Initiated</span>
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'amountRefunded'"
                          class="success_status">Amount Refunded</span>
                      </span>
                      <span *ngIf="getFlightStatus(z?.flightDetails.uuid) == null">
                        <span *ngIf="z?.flightDetails.bookingStatus === 'completedSuccess'"
                          class="success_status">Confirmed</span>
                        <span *ngIf="z?.flightDetails.bookingStatus === 'completedFailed'"
                          class="error_status">Failed</span>
                      </span>
                      <a class="flight_details mt-2" (click)="FlightTickDetailsEdit()">Passengers Details</a>
                      <span class="flight_price mt-2">
                        {{z.flightDetails.fareDetails.totalFare.amount | currency:"₹ " : false : '2.0-0' }}</span>
                    </div>
                    <ion-grid class="container-fluid pt-2" *ngFor="
                        let f of z.flightDetails?.tripDetails?.itineraryInfo?.reservationItem;
                        let flightsegment_index = index
                      ">

                      <ion-row class="row">
                        <ion-col class="d-flex col-12 mb-1">
                          <div class="d-inline">
                            <img src="{{ f.airlineInfo.logoURL }}" class="img-fluid" />
                            <ion-text class="text-dark pl-2">{{
                              f.airlineInfo.name
                              }}

                            </ion-text>
                          </div>

                        </ion-col>

                        <ion-col class="col-md-4 col-6 mb_sm">
                          <ion-text class="d-block frm_to">{{ f.departureAirportLocationCode }}
                            {{ f.airlineInfo.departureCity }}
                            {{
                            f.departureDateTime | date: 'HH:mm'
                            }}</ion-text>
                          <ion-text class="d-block time">{{
                            f.departureDateTime | date: 'EEE,dd LLL yyyy'
                            }}</ion-text>
                        </ion-col>
                        <ion-col class="col-md-3 col-6">
                          <ion-text class="d-block text-center frm_to">
                            <ion-icon name="timer-outline"></ion-icon>
                          </ion-text>
                          <ion-text class="d-block text-center time">{{
                            f.journeyDuration | toNumber | durationPipe
                            }}</ion-text>
                        </ion-col>
                        <ion-col class="col-md-5 col-6 mb_sm">
                          <ion-text class="d-block frm_to">{{ f.arrivalAirportLocationCode }}
                            {{ f.airlineInfo.arrivalCity }}
                            {{
                            f.arrivalDateTime | date: 'HH:mm'
                            }}</ion-text>
                          <ion-text class="d-block time">{{
                            f.arrivalDateTime | date: 'EEE,dd LLL yyyy'
                            }}</ion-text>
                        </ion-col>
                      </ion-row>
                      <br />
                      <span class="flight_bookdetails"><span *ngIf="f.flightNumber?.length>0">Flight number:
                          {{f.flightNumber}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span *ngIf="f.airlinePNR?.length>0">Airline
                          PNR: {{f.airlinePNR}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                          *ngIf="f.baggage?.length>0">Baggage: {{f.baggage}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                          *ngIf="f.cabinClassText?.length>0">Cabin class text: {{f.cabinClassText}}</span></span>
                      <div class="col-12 text-center short_layover_div position-relative" *ngIf="
                            flightsegment_index !=
                            z.flightDetails.flightSegments.length - 1
                          ">
                        <ion-text class="text-dark short_layover_text">Layover
                          {{
                          diff(
                          f.arrivalDateTime,
                          z.flightDetails.flightSegments[
                          flightsegment_index + 1
                          ]?.departureDateTime
                          )
                          }}</ion-text>
                      </div>


                    </ion-grid>


                    <br />
                    <div *ngIf="passengerShowEdit">
                      <hr class="passenger_line">
                      <div class="passenger_details">Passengers</div>
                      <table class="Table_Style">
                        <tr class="passenger_header">
                          <th><b>Name</b></th>
                          <th><b>Gender</b></th>
                          <th><b>Passport Number</b></th>
                          <th><b>Email</b></th>
                          <th><b>E-TicketNumber</b></th>
                        </tr>
                        <tr
                          *ngFor="let passenger of z.flightDetails?.tripDetails.itineraryInfo.customerInfo;let o=index">
                          <td *ngIf="passenger.passengerFirstName?.length == 0">-</td>
                          <td *ngIf="passenger.passengerFirstName?.length>0">{{passenger.passengerFirstName}}</td>

                          <td *ngIf="passenger.gender?.length == 0">-</td>
                          <td *ngIf="passenger.gender?.length>0">{{passenger.gender}}</td>

                          <td *ngIf="passenger.passportNumber?.length == 0">-</td>
                          <td *ngIf="passenger.passportNumber?.length>0">{{passenger.passportNumber}}</td>

                          <td *ngIf="passenger.emailAddress?.length == 0">-</td>
                          <td *ngIf="passenger.emailAddress?.length>0">{{passenger.emailAddress}}</td>

                          <td *ngIf="passenger.eTicketNumber?.length == 0">-</td>
                          <td *ngIf="passenger.eTicketNumber?.length>0">{{passenger.eTicketNumber}}</td>

                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </ion-card>


              <ion-card *ngFor="let z of returnFlight;" class="bg-white text-dark mb-2 ml-2 mr-2 flt_card sm_dsplay">
                <div>
                  <div class="pb-2">
                    <div class="row ">
                      <div class="col-12">
                        <span class="flight_details_ticket right_float mr-3"
                          *ngIf="z.flightDetails.ticketRefNumber?.length>0">
                          Ticket:{{z.flightDetails.ticketRefNumber}}</span>
                      </div>
                      &nbsp;
                      <div class="col-12" *ngIf="getFlightStatus(z?.flightDetails.uuid)?.length>0">
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'Cancelled'"
                          class="error_status right_float flot_top mr-3">Cancelled</span>
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'refundInitiated'"
                          class="partialSuccess">Refund Initiated</span>
                        <span *ngIf="getFlightStatus(z?.flightDetails.uuid) === 'amountRefunded'"
                          class="success_status">Amount Refunded</span>
                      </div>
                      <div class="col-12" *ngIf="getFlightStatus(z?.flightDetails.uuid) == null">
                        <span *ngIf="z?.flightDetails.bookingStatus === 'completedSuccess'"
                          class="success_status right_float mr-3">Confirmed</span>
                        <span *ngIf="z?.flightDetails.bookingStatus === 'completedFailed'"
                          class="error_status right_float mr-3">Failed</span>
                      </div>
                    </div>
                    <a class="flight_details" (click)="FlightTickDetailsEdit()">Passengers</a>
                    <span class="flight_price">{{z.flightDetails.fareDetails.totalFare.amount | currency:"₹ " : false :
                      '2.0-0' }}</span>
                    <br />
                    <br />
                    <ion-grid class="container-fluid" *ngFor="
                        let f of z.flightDetails?.tripDetails?.itineraryInfo?.reservationItem;
                        let flightsegment_index = index
                      ">
                      <ion-row class="row p-0">
                        <ion-col class="d-flex col-12 mb-1">
                          <div class="d-inline aero_name">
                            <img src="{{ f.airlineInfo.logoURL }}" class="img-fluid" />
                            <ion-text class="text-dark pl-2">{{
                              f.airlineInfo.name
                              }}

                            </ion-text>
                          </div>
                        </ion-col>
                        <ion-col size="6" class="pl-2">
                          <ion-text class="d-block frm_to">{{ f.departureAirportLocationCode }}
                            {{ f.airlineInfo.departureCity }}
                            {{
                            f.departureDateTime | date: 'HH:mm'
                            }}</ion-text>
                        </ion-col>
                        <ion-col size="6" class="text-right pr-2">
                          <ion-text class="d-block frm_to">{{ f.arrivalAirportLocationCode }}
                            {{ f.airlineInfo.arrivalCity }}
                            {{
                            f.arrivalDateTime | date: 'HH:mm'
                            }}</ion-text>
                        </ion-col>
                        <ion-col class="d-flex pr-2 pl-2 pt-0 pb-0" size="12">
                          <div>
                            <ion-text class="d-inine sm_time">{{
                              f.departureDateTime | date: 'EEE,dd LLL yyyy'
                              }}</ion-text>
                          </div>
                          <div class="flex-grow-1 text-center position-relative z_0">
                            <ion-text class="d-inline sm_time rt_lne pr-1 z_2 bg-white">
                              <ion-icon name="timer-outline"></ion-icon>{{
                              f.journeyDuration | toNumber | durationPipe
                              }}
                            </ion-text>
                          </div>
                          <div>
                            <ion-text class="d-block sm_time text-right">{{
                              f.arrivalDateTime | date: 'EEE,dd LLL yyyy'
                              }}</ion-text>
                          </div>
                        </ion-col>
                        <br />
                        <span class="flight_bookdetails"><span *ngIf="f.flightNumber?.length>0">Flight number:
                            {{f.flightNumber}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span
                            *ngIf="f.airlinePNR?.length>0">Airline PNR:
                            {{f.airlinePNR}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span *ngIf="f.baggage?.length>0">Baggage:
                            {{f.baggage}}</span>&nbsp;&nbsp;|&nbsp;&nbsp;<span *ngIf="f.cabinClassText?.length>0">Cabin
                            class text: {{f.cabinClassText}}</span></span>
                        <div class="col-12 text-center short_layover_div position-relative" *ngIf="
                            flightsegment_index !=
                            z.flightDetails.flightSegments.length - 1
                          ">
                          <ion-text class="text-dark short_layover_text">Layover
                            {{
                            diff(
                            f.arrivalDateTime,
                            z.flightDetails.flightSegments[
                            flightsegment_index + 1
                            ]?.departureDateTime
                            )
                            }}</ion-text>
                        </div>
                      </ion-row>
                      <br />

                    </ion-grid>
                    <br />
                    <div *ngIf="passengerShowEdit">
                      <hr class="passenger_line">
                      <div class="passenger_details">Passengers</div>
                      <table class="Table_Style">
                        <tr class="passenger_header">
                          <th><b>Name</b></th>
                          <th><b>Passport</b></th>
                          <th><b>E-Ticket</b></th>
                        </tr>
                        <tr
                          *ngFor="let passenger of z.flightDetails?.tripDetails.itineraryInfo.customerInfo;let o=index">
                          <td *ngIf="passenger.passengerFirstName?.length == 0">-</td>
                          <td *ngIf="passenger.passengerFirstName?.length>0">{{passenger.passengerFirstName}}</td>

                          <td *ngIf="passenger.passportNumber?.length == 0">-</td>
                          <td *ngIf="passenger.passportNumber?.length>0">{{passenger.passportNumber}}</td>

                          <td *ngIf="passenger.eTicketNumber?.length == 0">-</td>
                          <td *ngIf="passenger.eTicketNumber?.length>0">{{passenger.eTicketNumber}}</td>

                        </tr>
                      </table>
                    </div>
                  </div>
                </div>
              </ion-card>
            </ion-col>
          </ion-row>
        </div>

      </ion-col>
    </ion-row>
  </ion-grid>

  <div class="container col-10 mt-2 ml-2 mb-4 mx-auto">
    <div class="row">
      <div class="col-12 col-sm-6">
        <div class="text_styles_45824">View Cancellation Policy</div>
      </div>
      <div class="col-12 col-sm-6">
        <div class="text_styles_45824" (click)="cancelBooking()">Cancel Booking</div>
      </div>
    </div>
  </div>

  <!-- footer code starts -->

  <ion-footer class="ion-no-border border-none footer-background-color">
    <ion-card class="ion-card-footer footer-background-color">
      <ion-grid>
        <ul class="nav justify-content-center footer-text-styles mt-4 mb-2 dispaly-mobile">
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/about-us']">About Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/staycation']">Staycations</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" style="cursor: pointer;" (click)="goToContact()">Contact Us</a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/staycation']">Tailor Trips</a>
          </li>
          <!-- <li class="nav-item">
          <a class="nav-link footer-text-styles" href="#">Blogs</a>
        </li> -->
          <li class="nav-item">
            <a class="nav-link footer-text-styles" [routerLink]="['/policy']">Policies</a>
          </li>
        </ul>
        <ul class="nav justify-content-center mt-2 ">
          <li class="nav-item">
            <a class="nav-link footer-icon-styles twitter-icon" target="_blank" href="https://twitter.com/voyaah1/">
              <ion-icon class="p-0 m-0" name="logo-twitter"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles facebook-icon" target="_blank"
              href="https://www.facebook.com/voyaahcations/">
              <ion-icon name="logo-facebook"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles linkedin-icon" target="_blank"
              href="https://www.linkedin.com/company/voyaah/">
              <ion-icon name="logo-linkedin"></ion-icon>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link footer-icon-styles instagram-icon" target="_blank"
              href="https://www.instagram.com/voyaah_cations/">
              <ion-icon name="logo-instagram"></ion-icon>
            </a>
          </li>
        </ul>
        <hr width="100%" class="hr-styles dispaly-mobile" noshade />
        <div class="pt-3 poweredby text-center pb-3 dispaly-mobile">
          <p>
            &#169; Copyright 2020-2021. All Rights Reserved. Powered by
            <span class="ml-1 company"><a href="https://ojas-it.com/" target="_blank">
                OJAS Innovative Technologies Pvt Ltd</a></span>
          </p>
        </div>
      </ion-grid>
    </ion-card>
  </ion-footer>
  <!-- footer code ends -->



</ion-content>


<div *ngIf="isLoading">
  <div class="spinner_overlay"></div>
  <div *ngIf="loadMess" class="center_image">
    <div class="card " style="width: 18rem;">
      <div style="border-radius: 10px;">
        <div class="fail_trip_color">
          <div class="modal-body fail_trip_head">
            <h3 class="fail_trip_font1">Please wait...</h3>
            <p>
              Please do not Refresh the page/click Back button
            </p>
            <img src="../../../assets/images/loader.gif" class="failtrip_link" />
          </div>
        </div>
      </div>
    </div>
  </div>
</div>